{% extends 'base.html.twig' %}

{% block title %}{{ media.name }}{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="/css/media_view.css">
{% endblock %}

{% block body %}
    <a class="btn back-btn" href="{{ path('media_index', {'familySlug': family.slug, 'sectionSlug': section.slug}) }}">Retour</a>
    <h1>{{ media.name }}</h1>

    {% if media.type == "picture" %}
        <img src="{{ path('media_read', {'familySlug': family.slug, 'sectionSlug': section.slug, 'mediaSlug': media.slug}) }}"/>
    {% elseif media.type == "video" %}
        <video controls>
            <source src="{{ path('media_read', {'familySlug': family.slug, 'sectionSlug': section.slug, 'mediaSlug': media.slug}) }}">
        </video>
    {% endif %}
    <div class="comments">
        {% if flash.comment_success is defined %}
            <p style="color: green">{{ flash.comment_success }}</p>
        {% endif %}
        <h2>Cr√©ez un commentaire</h2>
        {% include "Modals/forms.html.twig" with {'form': commentForm} %}
        {% if comments|length > 0 %}
            <ul>
                {% for comment in comments %}
                    <li>{{ comment.User.firstname }} {{ comment.User.lastname }} : {{ comment.content }}</li>
                {% endfor %}
            </ul>
        {% else %}
            <h2>Il n'y a aucun commentaire</h2>
        {% endif %}
    </div>
{% endblock %}